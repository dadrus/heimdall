<!doctype html><html lang=en><head><title>Caching</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="An open source Identity Aware Proxy and an Access Control Decision service for cloud native applications"><meta name=dc.relation content="https://dadrus.github.io/"><meta name=theme-color content="#1A94D2"><link rel=stylesheet href=../../../css/styles.min.css media=screen><link rel='shortcut icon' type=image/x-icon href=../../../favicon.ico></head><body><header class="navbar navbar-expand-md navbar-dark bg-dark sticky-top"><nav class="container-xxl flex-wrap flex-lg-nowrap px-0" aria-label="Main navigation"><button class="btn btn-outline-dark d-lg-none navbar-toggler border-0 shadow-none ps-3" type=button data-bs-toggle=offcanvas data-bs-target=#docsMenuContent aria-controls=docsMenuContent aria-expanded=false aria-label="Open docs menu"><svg width="36" height="36" fill="currentcolor" class="bi bi-list" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2.5 12a.5.5.0 01.5-.5h10a.5.5.0 010 1H3a.5.5.0 01-.5-.5m0-4a.5.5.0 01.5-.5h10a.5.5.0 010 1H3A.5.5.0 012.5 8m0-4a.5.5.0 01.5-.5h10a.5.5.0 010 1H3A.5.5.0 012.5 4"/></svg></button><nav class="offcanvas offcanvas-start d-md-none text-bg-light" tabindex=-1 id=docsMenuContent aria-labelledby=docsMenuContentLabel><div class=offcanvas-header><h5 class=offcanvas-title id=docsMenuContentLabel>Browse docs</h5><button type=button class=btn-close data-bs-dismiss=offcanvas aria-label="Close docs menu"></button></div><div class="offcanvas-body docs-sidebar"><div class=docs-search-button><button type=button class="btn btn-outline-secondary mb-3 d-none d-md-block w-100 text-start" data-bs-toggle=modal data-bs-target=#docSearch aria-controls=docSearch aria-expanded=false aria-label="Open search">
<svg width="20" height="20" fill="currentcolor" class="bi bi-search me-2" viewBox="0 0 20 20"><path d="M11.742 10.344a6.5 6.5.0 10-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 001.415-1.414l-3.85-3.85a1 1 0 00-.115-.1zM12 6.5a5.5 5.5.0 11-11 0 5.5 5.5.0 0111 0"/></svg>
<span>Quick search...</span></button></div><nav id=SideBarToc><ul><li><span>Getting Started</span><ul><li><a href=../../../docs/getting_started/discover_heimdall/>Discover heimdall</a></li><li><a href=../../../docs/getting_started/installation/>Install heimdall</a></li><li><a href=../../../docs/getting_started/protect_an_app/>Protect an Application</a></li></ul></li><li><span>Concepts</span><ul><li><a href=../../../docs/concepts/pipelines/>Pipelines</a></li><li><a href=../../../docs/concepts/mechanisms/>Mechanisms</a></li><li><a href=../../../docs/concepts/rules/>Rules</a></li><li><a href=../../../docs/concepts/provider/>Rule Provider</a></li><li><a href=../../../docs/concepts/operating_modes/>Operating Modes</a></li></ul></li><li><span>Operations</span><ul><li><a href=../../../docs/operations/configuration/>Configuration</a></li><li><a href=../../../docs/operations/cli/>CLI</a></li><li><a href=../../../docs/operations/observability/>Observability</a></li><li><a class=active href=../../../docs/operations/cache/>Caching</a></li><li><a href=../../../docs/operations/security/>Security</a></li></ul></li><li><span>Services</span><ul><li><a href=../../../docs/services/main/>Main Service</a></li><li><a href=../../../docs/services/management/>Management Service</a></li></ul></li><li><span>Mechanisms</span><ul><li><a href=../../../docs/mechanisms/catalogue/>Catalogue</a></li><li><a href=../../../docs/mechanisms/evaluation_objects/>Objects, Templating & Co</a></li><li><a href=../../../docs/mechanisms/authenticators/>Authenticators</a></li><li><a href=../../../docs/mechanisms/authorizers/>Authorizers</a></li><li><a href=../../../docs/mechanisms/contextualizers/>Contextualizers</a></li><li><a href=../../../docs/mechanisms/finalizers/>Finalizers</a></li><li><a href=../../../docs/mechanisms/error_handlers/>Error Handlers</a></li></ul></li><li><span>Rules</span><ul><li><a href=../../../docs/rules/regular_rule/>Regular Rule</a></li><li><a href=../../../docs/rules/default_rule/>Default Rule</a></li><li><a href=../../../docs/rules/rule_sets/>Rule Sets</a></li><li><a href=../../../docs/rules/providers/>Rule Providers</a></li></ul></li><li><span>Configuration Reference</span><ul><li><a href=../../../docs/configuration/types/>Type Definitions</a></li><li><a href=../../../docs/configuration/reference/>Reference</a></li></ul></li></ul></nav></div></nav><div class="d-flex align-items-center px-4"><a class="navbar-brand navbar-brand-highlight text-white me-0" href=../../../ style=font-weight:500;font-size:1.5rem>Heimdall</a><ul class="navbar-nav d-none d-md-flex ms-3"><li class=nav-item><a class='nav-link text-white' href=../../../docs/getting_started/discover_heimdall>Docs</a></li><li class=nav-item><a class='nav-link text-white' href=../../../guides/>Guides</a></li><li class=nav-item><a class='nav-link text-white' href=../../../openapi/>API</a></li></ul></div><div class=d-flex><button type=button class="btn btn-outline-dark navbar-toggler border-0 shadow-none" data-bs-toggle=modal data-bs-target=#docSearch aria-controls=docSearch aria-expanded=false aria-label="Open search">
<span class="bi bi-search"></span>
</button>
<button class="btn btn-outline-dark navbar-toggler border-0 shadow-none pe-3" type=button data-bs-toggle=offcanvas data-bs-target=#mainMenuContent aria-controls=mainMenuContent aria-expanded=false aria-label="Open main menu"><svg width="24" height="24" fill="currentcolor" class="bi bi-three-dots" viewBox="0 0 16 16"><path d="M3 9.5a1.5 1.5.0 110-3 1.5 1.5.0 010 3m5 0a1.5 1.5.0 110-3 1.5 1.5.0 010 3m5 0a1.5 1.5.0 110-3 1.5 1.5.0 010 3"/></svg></button><div class="offcanvas offcanvas-end text-bg-dark" tabindex=-1 id=mainMenuContent aria-labelledby=mainMenuContentLabel><div class=offcanvas-header><h5 class="offcanvas-title text-white" id=mainMenuContentLabel>Heimdall</h5><button type=button class="btn-close btn-close-white" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class=offcanvas-body><ul class="navbar-nav flex-column d-md-none d-lg-none d-xl-none"><li class=nav-item><a class='nav-link text-white' href=../../../docs/getting_started/discover_heimdall>Docs</a></li><li class=nav-item><a class='nav-link text-white' href=../../../guides/>Guides</a></li><li class=nav-item><a class='nav-link text-white' href=../../../openapi/>API</a></li></ul><hr class="text-white-50 d-md-none"><ul class="navbar-nav flex-column ms-auto"><doc-version-select class="nav-item dropdown" version-file=/heimdall/data.json current-version=dev current-page=/docs/operations/cache/><button class="btn btn-dark dropdown-toggle me-4" data-bs-toggle=dropdown aria-expanded=false>
dev</button></doc-version-select></ul><ul class="navbar-nav flex-column"><li class="nav-item mb-1 pe-4"><a class="nav-link text-white" style=align-self:center href=https://github.com/dadrus/heimdall><svg role="img" width="20" height="20" fill="currentcolor" class="bi bi-github text-white" viewBox="0 0 16 16"><title>GitHub</title><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.012 8.012.0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
<small class="ms-2 d-md-none">GitHub</small></a></li></ul></div></div></div></nav></header><div class=modal id=docSearch tabindex=-1 aria-labelledby=docSearchLabel aria-hidden=true><doc-search class="col-auto me-auto mw-75" index-file=/heimdall/dev/index.json path-prefix=/heimdall/dev><div class="modal-dialog modal-lg modal-dialog-scrollable"><div class=modal-content><div class="modal-header p-2"><div class=input-group><div class="input-group-text bg-body border-0 fs-4"><svg width="16" height="16" fill="currentcolor" class="bi bi-search text-secondary my-0" viewBox="0 0 16 16"><path d="M11.742 10.344a6.5 6.5.0 10-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 001.415-1.414l-3.85-3.85a1 1 0 00-.115-.1zM12 6.5a5.5 5.5.0 11-11 0 5.5 5.5.0 0111 0"/></svg></div><input id=search-input class="form-control search-bar border-0" type=search placeholder="Search documentation " aria-label="Search docs..." autocomplete=off autofocus><div class="input-group-text bg-body border-0"><a class="btn input-group-text text-muted border p-1 bg-light-subtle fs-7 fw-bold font-monospace" data-bs-dismiss=modal aria-label=Close>ESC</a></div></div></div><div class=modal-body><div class=search-results><p class="text-center mt-5">No recent searches</p></div></div><div class=modal-footer></div></div></div></doc-search></div><div class="container-xxl docs-layout px-4"><aside class="d-none pe-3 docs-sidebar"><div class=docs-search-button><button type=button class="btn btn-outline-secondary mb-3 d-none d-md-block w-100 text-start" data-bs-toggle=modal data-bs-target=#docSearch aria-controls=docSearch aria-expanded=false aria-label="Open search">
<svg width="20" height="20" fill="currentcolor" class="bi bi-search me-2" viewBox="0 0 20 20"><path d="M11.742 10.344a6.5 6.5.0 10-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 001.415-1.414l-3.85-3.85a1 1 0 00-.115-.1zM12 6.5a5.5 5.5.0 11-11 0 5.5 5.5.0 0111 0"/></svg>
<span>Quick search...</span></button></div><nav id=SideBarToc><ul><li><span>Getting Started</span><ul><li><a href=../../../docs/getting_started/discover_heimdall/>Discover heimdall</a></li><li><a href=../../../docs/getting_started/installation/>Install heimdall</a></li><li><a href=../../../docs/getting_started/protect_an_app/>Protect an Application</a></li></ul></li><li><span>Concepts</span><ul><li><a href=../../../docs/concepts/pipelines/>Pipelines</a></li><li><a href=../../../docs/concepts/mechanisms/>Mechanisms</a></li><li><a href=../../../docs/concepts/rules/>Rules</a></li><li><a href=../../../docs/concepts/provider/>Rule Provider</a></li><li><a href=../../../docs/concepts/operating_modes/>Operating Modes</a></li></ul></li><li><span>Operations</span><ul><li><a href=../../../docs/operations/configuration/>Configuration</a></li><li><a href=../../../docs/operations/cli/>CLI</a></li><li><a href=../../../docs/operations/observability/>Observability</a></li><li><a class=active href=../../../docs/operations/cache/>Caching</a></li><li><a href=../../../docs/operations/security/>Security</a></li></ul></li><li><span>Services</span><ul><li><a href=../../../docs/services/main/>Main Service</a></li><li><a href=../../../docs/services/management/>Management Service</a></li></ul></li><li><span>Mechanisms</span><ul><li><a href=../../../docs/mechanisms/catalogue/>Catalogue</a></li><li><a href=../../../docs/mechanisms/evaluation_objects/>Objects, Templating & Co</a></li><li><a href=../../../docs/mechanisms/authenticators/>Authenticators</a></li><li><a href=../../../docs/mechanisms/authorizers/>Authorizers</a></li><li><a href=../../../docs/mechanisms/contextualizers/>Contextualizers</a></li><li><a href=../../../docs/mechanisms/finalizers/>Finalizers</a></li><li><a href=../../../docs/mechanisms/error_handlers/>Error Handlers</a></li></ul></li><li><span>Rules</span><ul><li><a href=../../../docs/rules/regular_rule/>Regular Rule</a></li><li><a href=../../../docs/rules/default_rule/>Default Rule</a></li><li><a href=../../../docs/rules/rule_sets/>Rule Sets</a></li><li><a href=../../../docs/rules/providers/>Rule Providers</a></li></ul></li><li><span>Configuration Reference</span><ul><li><a href=../../../docs/configuration/types/>Type Definitions</a></li><li><a href=../../../docs/configuration/reference/>Reference</a></li></ul></li></ul></nav></aside><main class=docs-main><div class="d-md-none docs-location bg-body"><nav style="--bs-breadcrumb-divider:'>'" aria-label=breadcrumb><ol class="breadcrumb mb-0"><li class="breadcrumb-item fw-bold">Operations</li><li class="breadcrumb-item active" aria-current=page>Caching</li></ol></nav></div><div class="docs-intro pt-3 pe-3"><h1>Caching</h1><p>To increase performance, you can configure heimdall to make use of caching. Indeed, caching is even done by default in some places.</p></div><aside class="text-muted docs-toc"><strong class="d-md-block h6 pb-2 my-2 ms-2 border-bottom d-none d-md-none d-lg-block">On this page</strong><div id=page-content-toc class="mt-1 mb-3 text-muted d-none d-md-none d-lg-block docs-toc-content"><nav id=TableOfContents><ul><li><a href=#_noop_backend>Noop Backend</a></li><li><a href=#_in_memory_backend>In-Memory Backend</a></li><li><a href=#_redis_backends>Redis Backends</a><ul><li><a href=#_common_settings>Common Settings</a></li><li><a href=#_redis_single_instance>Redis Single Instance</a></li><li><a href=#_redis_cluster>Redis Cluster</a></li><li><a href=#_redis_sentinel>Redis Sentinel</a></li></ul></li></ul></nav></div><button class="btn btn-outline-secondary text-decoration-none d-lg-none collapsed" type=button data-bs-toggle=collapse data-bs-target=#page-content-toc-collapsible aria-expanded=false aria-controls=page-content-toc-collapsible>
On this page<svg width="16" height="16" fill="currentcolor" class="bi bi-chevron-expand" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M3.646 9.146a.5.5.0 01.708.0L8 12.793l3.646-3.647a.5.5.0 01.708.708l-4 4a.5.5.0 01-.708.0l-4-4a.5.5.0 010-.708m0-2.292a.5.5.0 00.708.0L8 3.207l3.646 3.647a.5.5.0 00.708-.708l-4-4a.5.5.0 00-.708.0l-4 4a.5.5.0 000 .708"/></svg></button><div id=page-content-toc-collapsible class="mt-1 mb-3 text-muted d-lg-none collapse docs-toc-content"><div class="card card-body"><nav id=TableOfContents><ul><li><a href=#_noop_backend>Noop Backend</a></li><li><a href=#_in_memory_backend>In-Memory Backend</a></li><li><a href=#_redis_backends>Redis Backends</a><ul><li><a href=#_common_settings>Common Settings</a></li><li><a href=#_redis_single_instance>Redis Single Instance</a></li><li><a href=#_redis_cluster>Redis Cluster</a></li><li><a href=#_redis_sentinel>Redis Sentinel</a></li></ul></li></ul></nav></div></div></aside><div class="docs-content pe-3"><div data-bs-spy=scroll data-bs-target=#page-content-toc class=mt-3><linkable-headline-area><div class=paragraph><p>Even some default caching is in place, and you can instruct heimdall to cache particular data for some amount of time, like e.g how long to cache the response from the JWKS endpoint when using the <a href=../../../docs/mechanisms/authenticators/#_jwt>JWT Authenticator</a>, all these options require a caching backend to be available. Otherwise, the corresponding configurations do not have any effect.</p></div><div class=paragraph><p>Configuration of that backend happens by making use of the <code>cache</code> property in heimdall’s configuration, which supports the following options:</p></div><div class=ulist><ul><li><p><code>type</code> - The mandatory specific type of the cache backend.</p></li><li><p><code>config</code> - A cache backend specific configuration if required by the type.</p></li></ul></div><div class=sect1><h2 id=_noop_backend>Noop Backend</h2><div class=sectionbody><div class=paragraph><p>With that backend configured, caching is disabled entirely. That means any cache settings on any mechanism do not have any effect. Even those, applied by heimdall by default are disabled.</p></div><div class=paragraph><p>To configure this backend, you have to specify <code>noop</code> as type. No further configuration is supported. Here an example:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=yaml><span class=na>cache</span><span class=pi>:</span>
  <span class=na>type</span><span class=pi>:</span> <span class=s>noop</span></code></pre></div></div></div></div><div class=sect1><h2 id=_in_memory_backend>In-Memory Backend</h2><div class=sectionbody><div class=paragraph><p>This is the default caching backend used by heimdall. It manages the cached items in memory of heimdall’s process. To explicitly configure it, specify <code>in-memory</code> as the type.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=yaml><span class=na>cache</span><span class=pi>:</span>
  <span class=na>type</span><span class=pi>:</span> <span class=s>in-memory</span></code></pre></div></div><div class=paragraph><p>Additional optional configuration options via <code>config</code> allow control over the cache’s memory usage (defaulting to 128MB if not specified) and the number of entries it can hold. The following properties are supported:</p></div><div class=ulist><ul><li><p><strong><code>memory_limit</code></strong>: <em><a href=../../../docs/configuration/types/#_bytesize>ByteSize</a></em> (optional)</p><div class=paragraph><p>The maximum amount of memory the cache is allowed to use. This limit helps prevent excessive memory consumption and may affect the number of entries stored. Defaults to 128MB.</p></div></li><li><p><strong><code>entry_limit</code></strong>: <em>integer</em> (optional)</p><div class=paragraph><p>The maximum number of entries the cache can store. This limit ensures the cache doesn’t grow indefinitely and can be used in conjunction with <code>memory_limit</code> to manage cache size. If not specified, there is no limit on the number of entries.</p></div></li></ul></div><div class=paragraph><p>Here is an example configuration that sets the memory limit to 256MB and the entry limit to 10000:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=yaml><span class=na>cache</span><span class=pi>:</span>
  <span class=na>type</span><span class=pi>:</span> <span class=s>in-memory</span>
  <span class=na>config</span><span class=pi>:</span>
    <span class=na>memory_limit</span><span class=pi>:</span> <span class=s>256MB</span>
    <span class=na>entry_limit</span><span class=pi>:</span> <span class=s>10000</span></code></pre></div></div></div></div><div class=sect1><h2 id=_redis_backends>Redis Backends</h2><div class=sectionbody><div class=paragraph><p>As the name of this chapter implies, there are multiple backend types, you can configure to make use of <a href=https://redis.io/>Redis</a> as distributed cache:</p></div><div class=ulist><ul><li><p>a <a href=#_redis_single_instance>Redis single instance</a>,</p></li><li><p>a <a href=#_redis_cluster>Redis cluster</a> and</p></li><li><p>a <a href=#_redis_sentinel>Redis sentinel</a>.</p></li></ul></div><div class=paragraph><p>All types use pipelining to increase performance and do also make use of client side caching if not disabled (see also below).</p></div><div class=sect2><h3 id=_common_settings>Common Settings</h3><div class=paragraph><p>All Redis cache backend types support the following configuration options:</p></div><div class=ulist><ul><li><p><strong><code>credentials</code></strong>: <em>Credentials</em> (optional)</p><div class=paragraph><p>Herewith you can define the credentials to be used for connection purposes. Following settings are possible</p></div><div class=ulist><ul><li><p><strong><code>path</code></strong>: <em>string</em> (mandatory)</p><div class=paragraph><p>Path to a JSON/YAML file with credentials (supports watching for secrets rotation) specifying the <code>username</code> and <code>password</code> as shown below.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=yaml><span class=c1># contents of a credentials file</span>
<span class=na>username</span><span class=pi>:</span> <span class=s>Aladdin</span>
<span class=na>password</span><span class=pi>:</span> <span class=s>SesameOpen!</span></code></pre></div></div><div class=paragraph><p>If used no other properties can be configured for credentials.</p></div></li><li><p><strong><code>username</code></strong>: <em>string</em>(optional)</p><div class=paragraph><p>The username to use to connect to the Redis DB/Cluster, and</p></div></li><li><p><strong><code>password</code></strong>: <em>string</em>(mandatory)</p><div class=paragraph><p>The password to be used</p></div></li></ul></div></li><li><p><strong><code>client_cache</code></strong>: <em>ClientCache</em> (optional)</p><div class=paragraph><p>Configures the client cache to reduce roundtrip time. Following settings are possible:</p></div><div class=ulist><ul><li><p><strong><code>disabled</code></strong>: <em>boolean</em> (optional)</p><div class=paragraph><p>Whether the client cache should be disabled. Defaults to <code>false</code>.</p></div></li><li><p><strong><code>ttl</code></strong>: <em><a href=../../../docs/configuration/types/#_duration>Duration</a></em> (optional)</p><div class=paragraph><p>Specifies the maximum TTL on the client side for all used keys. If the key’s TTL on the server is smaller than the client side TTL, the client side TTL will be capped.</p></div></li><li><p><strong><code>size_per_connection</code></strong>: <em><a href=../../../docs/configuration/types/#_bytesize>ByteSize</a></em> (optional)</p><div class=paragraph><p>Client side cache size that bind to each TCP connection to a single redis instance. Defaults to 128MB.</p></div></li></ul></div></li><li><p><strong><code>buffer_limit</code></strong>: <em>BufferLimit</em> (optional)</p><div class=paragraph><p>Read and write buffer limits for established connections. Following configuration properties are supported:</p></div><div class=ulist><ul><li><p><strong><code>read</code></strong>: <em><a href=../../../docs/configuration/types/#_bytesize>ByteSize</a></em> (optional)</p><div class=paragraph><p>The maximum size for the read buffer allowed to read the full request including body. Defaults to 0.5MB.</p></div></li><li><p><strong><code>write</code></strong>: <em><a href=../../../docs/configuration/types/#_bytesize>ByteSize</a></em> (optional)</p><div class=paragraph><p>The maximum size for the write buffer of the response. Defaults to 0.5MB.</p></div></li></ul></div></li><li><p><strong><code>timeout</code></strong>: <em>Timeout</em> (optional)</p><div class=paragraph><p>By using this property you can override the default connection timeouts. Following properties are supported:</p></div><div class=ulist><ul><li><p><strong><code>write</code></strong>: <em><a href=../../../docs/configuration/types/#_duration>Duration</a></em> (optional)</p><div class=paragraph><p>The maximum duration before timing out writes of the response. Defaults to 150s.</p></div></li></ul></div></li><li><p><strong><code>max_flush_delay</code></strong>: <em><a href=../../../docs/configuration/types/#_duration>Duration</a></em> (optional)</p><div class=paragraph><p>Data flush delay. When greater than zero, pauses pipeline write loop for some time (not larger than the specified delay) after each flushing of data to the connection. This gives pipeline a chance to collect more commands to send to Redis. Adding this delay increases latency, reduces throughput, but in most cases may significantly reduce application and Redis CPU utilization due to less executed system calls. By default, the data is flushed to the connection without extra delays. Depending on network latency and application-specific conditions the value of max_flush_delay may vary, something like 20 µs should not affect latency/throughput a lot but still produce notable CPU usage reduction under load. Defaults to 0s.</p></div></li><li><p><strong><code>tls</code></strong>: <em><a href=../../../docs/configuration/types/#_tls>TLS</a></em> (optional)</p><div class=paragraph><p>TLS settings. By default, the communication to Redis happens over TLS. This requires however a properly configured <a href=../../../docs/operations/security/#_tls_trust_store>trust store</a>, as otherwise heimdall won’t trust the certificates used by the Redis services. In addition to the referenced configuration options, you can also make use of the following properties:</p></div><div class=ulist><ul><li><p><strong><code>disabled</code></strong>: <em>boolean</em> (optional)</p><div class=paragraph><p>Disables TLS. Defaults to <code>false</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content>This property can be set to <code>true</code> only if heimdall is started with the <code>--insecure-skip-egress-tls-enforcement</code> flag, which allows insecure communication with any configured service.</td></tr></tbody></table></div></li></ul></div></li></ul></div></div><div class=sect2><h3 id=_redis_single_instance>Redis Single Instance</h3><div class=paragraph><p>As the name implies, this type supports configuration of a single instance Redis DB.</p></div><div class=paragraph><p>To use it, you have to specify <code>redis</code> as type. Configuration is mandatory with following options in addition to the configuration options described in <a href=#_common_settings>Common Settings</a>.</p></div><div class=ulist><ul><li><p><strong><code>address</code></strong>: <em>string</em> (mandatory)</p><div class=paragraph><p>The Redis instance address to connect to.</p></div></li><li><p><strong><code>db</code></strong>: <em>integer</em> (optional)</p><div class=paragraph><p>Redis DB ID to use. Defaults to 0.</p></div></li></ul></div><div class=paragraph><p>Here an example:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=yaml><span class=na>cache</span><span class=pi>:</span>
  <span class=na>type</span><span class=pi>:</span> <span class=s>redis</span>
  <span class=na>config</span><span class=pi>:</span>
    <span class=na>address</span><span class=pi>:</span> <span class=s>foo:12345</span>
    <span class=na>credentials</span><span class=pi>:</span>
      <span class=na>path</span><span class=pi>:</span> <span class=s>/path/to/credentials.yaml</span>
    <span class=na>client_cache</span><span class=pi>:</span>
      <span class=na>ttl</span><span class=pi>:</span> <span class=s>10m</span>
      <span class=na>size_per_connection</span><span class=pi>:</span> <span class=s>128MB</span>
    <span class=na>buffer_limit</span><span class=pi>:</span>
      <span class=na>read</span><span class=pi>:</span> <span class=s>1MB</span>
      <span class=na>write</span><span class=pi>:</span> <span class=s>1MB</span>
    <span class=na>timeout</span><span class=pi>:</span>
      <span class=na>write</span><span class=pi>:</span> <span class=s>150s</span>
    <span class=na>max_flush_delay</span><span class=pi>:</span> <span class=s>20us</span>
    <span class=na>tls</span><span class=pi>:</span>
      <span class=c1># TLS client auth is used here</span>
      <span class=na>key_store</span><span class=pi>:</span>
        <span class=na>path</span><span class=pi>:</span> <span class=s>/path/to/keystore/file.pem</span>
        <span class=na>password</span><span class=pi>:</span> <span class=s>${MY_REDIS_CLIENT_KEYSTORE}</span>
      <span class=na>min_version</span><span class=pi>:</span> <span class=s>TLS1.2</span></code></pre></div></div></div><div class=sect2><h3 id=_redis_cluster>Redis Cluster</h3><div class=paragraph><p>As the name implies, this type supports configuration of a Redis cluster.</p></div><div class=paragraph><p>To use it, you have to specify <code>redis-cluster</code> as type. Configuration is mandatory with following options in addition to the configuration options described in <a href=#_common_settings>Common Settings</a>.</p></div><div class=ulist><ul><li><p><strong><code>nodes</code></strong>: <em>array of strings</em> (mandatory)</p><div class=paragraph><p>The addresses of Redis nodes to connect to.</p></div></li></ul></div><div class=paragraph><p>Here an example:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=yaml><span class=na>cache</span><span class=pi>:</span>
  <span class=na>type</span><span class=pi>:</span> <span class=s>redis-cluster</span>
  <span class=na>config</span><span class=pi>:</span>
    <span class=na>nodes</span><span class=pi>:</span>
    <span class=pi>-</span> <span class=s>foo:1234</span>
    <span class=pi>-</span> <span class=s>bar:1234</span>
    <span class=na>credentials</span><span class=pi>:</span>
      <span class=na>username</span><span class=pi>:</span> <span class=s>${MY_REDIS_USER}</span>
      <span class=na>password</span><span class=pi>:</span> <span class=s>${MY_REDIS_PASSWORD}</span></code></pre></div></div></div><div class=sect2><h3 id=_redis_sentinel>Redis Sentinel</h3><div class=paragraph><p>As the name implies, this type supports configuration of a Redis sentinel.</p></div><div class=paragraph><p>To use it, you have to specify <code>redis-sentinel</code> as type. Configuration is mandatory with following options in addition to the configuration options described in <a href=#_common_settings>Common Settings</a>.</p></div><div class=ulist><ul><li><p><strong><code>nodes</code></strong>: <em>array of strings</em> (mandatory)</p><div class=paragraph><p>The addresses of Redis sentinel nodes to connect to.</p></div></li><li><p><strong><code>db</code></strong>: <em>integer</em> (optional)</p><div class=paragraph><p>Redis DB ID to use. Defaults to 0.</p></div></li><li><p><strong><code>master</code></strong>: <em>string</em> (mandatory)</p><div class=paragraph><p>Sentinel master set name</p></div></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content>Same credentials are used to connect to the sentinel service and to the Redis DB instances. This is also true if TLS client authentication is used.</td></tr></tbody></table></div><div class=paragraph><p>Here an example:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=yaml><span class=na>cache</span><span class=pi>:</span>
  <span class=na>type</span><span class=pi>:</span> <span class=s>redis-sentinel</span>
  <span class=na>config</span><span class=pi>:</span>
    <span class=na>nodes</span><span class=pi>:</span>
    <span class=pi>-</span> <span class=s>foo:1234</span>
    <span class=pi>-</span> <span class=s>bar:1234</span>
    <span class=na>db</span><span class=pi>:</span> <span class=m>0</span>
    <span class=na>master</span><span class=pi>:</span> <span class=s>whatever</span>
    <span class=na>credentials</span><span class=pi>:</span>
      <span class=na>path</span><span class=pi>:</span> <span class=s>/path/to/credentials.yaml</span></code></pre></div></div></div></div></div></linkable-headline-area></div><p class="text-end fst-italic fs-7 pb-3">Last updated on <span class=fw-bold>Mar 27, 2025</span></p><hr><div class="d-flex justify-content-between py-3"><a href=../../../docs/operations/observability/ class="fs-6 fw-bold text-dark link-secondary link-underline-opacity-0"><svg width="16" height="16" fill="currentcolor" class="bi bi-chevron-left" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M11.354 1.646a.5.5.0 010 .708L5.707 8l5.647 5.646a.5.5.0 01-.708.708l-6-6a.5.5.0 010-.708l6-6a.5.5.0 01.708.0z"/></svg>
Observability
</a><a class="ms-auto fs-6 fw-bold text-dark link-secondary link-underline-opacity-0" href=../../../docs/operations/security/>Security<svg width="16" height="16" fill="currentcolor" class="bi bi-chevron-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.646 1.646a.5.5.0 01.708.0l6 6a.5.5.0 010 .708l-6 6a.5.5.0 01-.708-.708L10.293 8 4.646 2.354a.5.5.0 010-.708z"/></svg></a></div></div></main></div><footer class="footer py-4 py-md-5 px-4 px-md-3 mt-3"><div class=container><div class=row><div class="col-lg-3 mb-3"><p class=fs-5>Heimdall</p><ul class="list-unstyled small text-muted"><li class=mb-2>2022-2024 © Heimdall Project Authors. All rights reserved.</li><li class=mb-2><a href=https://github.com/dadrus/heimdall/blob/master/LICENSE>Apache 2.0 licensed</a></li></ul></div><div class="col-6 col-lg-2 offset-lg-1 mb-3"><h5>Links</h5><ul class=list-unstyled><li class=mb-2><a href=../../../>Home</a></li><li class=mb-2><a href=../../../docs/getting_started/discover_heimdall>Docs</a></li><li class=mb-2><a href=../../../guides/>Guides</a></li><li class=mb-2><a href=../../../openapi/>API</a></li></ul></div><div class="col-6 col-lg-2 mb-2"><h5>Guides</h5><ul class=list-unstyled><li class=mb-2><a href=../../../guides/proxies/>API Gateways & Proxies</a></li><li class=mb-2><a href=../../../guides/authz/>Authorization Services</a></li><li class=mb-2><a href=../../../guides/authn/>Authentication Protocols & Services</a></li></ul></div><div class="col-6 col-lg-2 mb-2"><h5>Community</h5><ul class=list-unstyled><li class=mb-2><a href=https://github.com/dadrus/heimdall>Github</a></li><li class=mb-2><a href=https://discord.gg/qQgg8xKuyb>Discord</a></li></ul></div></div></div></footer><script src=../../../js/main.js defer></script></body></html>